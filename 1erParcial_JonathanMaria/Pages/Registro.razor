@page "/"
@using _1erParcial_JonathanMaria.Controllers;
@using _1erParcial_JonathanMaria.Models;


@code{
    Inscripciones Inscripcion = new Inscripciones();
    string Mensaje = string.Empty;

    private void Guardar()
    {

        InscripcionesController inscripcionesController = new InscripcionesController();

        try
        {
            if(inscripcionesController.Insertar(Inscripcion))
            {

                Mensaje = "La inscripcion se guardo de manera exitosa!...";
            }
            else
            {

                Mensaje = "La inscripcion no se guardo de manera exitosa!...";
            }
        }
        catch(Exception)
        {

            throw;
        }

    }

    private void Buscar()
    {

        InscripcionesController inscripcionesController = new InscripcionesController();

        try
        {
            Inscripciones InscripcionTemporal = new Inscripciones();
            InscripcionTemporal = inscripcionesController.Buscar(Inscripcion.InscripcionId);

            if(InscripcionTemporal != null)
            {

                Mensaje = "Inscripcion encontrada de manera exitosa!...";
            }
            else
            {

                Mensaje = "La inscripcion no pudo ser encontrada!...";
            }
        }
        catch(Exception)
        {

            throw;
        }

    }

    private void Eliminar()
    {

        InscripcionesController inscripcionesController = new InscripcionesController();

        try
        {
            Inscripciones InscripcionTemporal = new Inscripciones();
            InscripcionTemporal = inscripcionesController.Buscar(Inscripcion.InscripcionId);

            if(InscripcionTemporal == null)
            {

                Mensaje = "No se puede eliminar una inscripcion que no existe!...";
            }
            else
            {

                if (inscripcionesController.Eliminar(Inscripcion.InscripcionId))
                {
                    Mensaje = "La inscripcion fue eliminada de manera exitosa";
                }
                else
                {

                    Mensaje = "La inscripcion no pudo ser eliminada de manera exitosa";
                }
            }
        }
        catch(Exception)
        {

            throw;
        }

    }

    private void Limpiar()
    {

        Inscripcion = new Inscripciones();
        Mensaje = string.Empty;
    }

}